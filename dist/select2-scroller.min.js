var FxpSelect2Scroller=function(e,i,s){"use strict";function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}i=i&&i.hasOwnProperty("default")?i.default:i,s=s&&s.hasOwnProperty("default")?s.default:s;var l={},p=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c(this,r),this.guid=i.guid,this.options=i.extend(!0,{},this.constructor.defaultOptions,t),this.$element=i(e)}return t(r,[{key:"destroy",value:function(){var t=this;Object.keys(t).forEach(function(e){delete t[e]})}}],[{key:"defaultOptions",set:function(e){l[this.name]=i.extend(!0,{},l[this.name],e)},get:function(){return void 0===l[this.name]&&(l[this.name]={}),l[this.name]}}]),r}();function d(e){if(null===e.data.$wrapper){var t=e.data,r=t.$element.data("select2"),n=i(".select2-results",r.$dropdown);n.addClass(t.options.resultsWrapperClass),t.$wrapper=n.scroller(t.scrollerOptions),t.$element.data("select2").$results.on("DOMNodeInserted.fxp.select2scroller",null,t,h)}else e.data.$wrapper.scroller("resizeScrollbar")}function y(e){var t=e.data,r=t.$element.data("select2"),n=i(r.dropdown),o=i(".select2-results",n);r.$results.off("DOMNodeInserted.fxp.select2scroller",h),o.scroller("destroy"),o.removeClass(t.options.resultsWrapperClass),t.$wrapper=null}function h(e){null!==e.data.$wrapper&&e.data.$wrapper.scroller("resizeScrollbar")}var v=function(e){function l(e){var t,r,n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c(this,l),r=this,(t=!(n=a(l).call(this,e,o))||"object"!=typeof n&&"function"!=typeof n?u(r):n).scrollerOptions=i.extend(!0,{},s.defaultOptions,o,{contentSelector:".select2-results__options"}),t.$wrapper=null,t.$element.on("select2:open.fxp.select2scroller",null,u(t),d),t.$element.on("select2:close.fxp.select2scroller",null,u(t),y),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(l,p),t(l,[{key:"destroy",value:function(){this.$element.off("select2:open.fxp.select2scroller",d),this.$element.off("select2:close.fxp.select2scroller",y),null!==this.$wrapper&&this.$wrapper.scroller("destroy"),o(a(l.prototype),"destroy",this).call(this)}}]),l}();return v.defaultOptions={resultsWrapperClass:"scroller-wrapper-select2-results"},function(t,c,a){var e=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,u=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"destroy",n=i.fn[t];i.fn[t]=function(){for(var o,e,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,s=Array(1<t?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return 1===(e=this.each(function(e,t){var r=i(t),n=r.data(c);n||(n=new a(t,"object"===f(l)?l:{}),r.data(c,n)),"string"==typeof l&&n&&(n[l]?o=(o=n[l].apply(n,s))!==n?o:void 0:n.constructor[l]&&(o=(o=n.constructor[l].apply(n,s))!==n?o:void 0),l===u&&r.removeData(c))})).length&&void 0!==o?o:e},i.fn[t].Constructor=a,e&&(i[t]=function(e){return i({})[t](e)}),i.fn[t].noConflict=function(){return i.fn[t]=n},null!==r&&i(window).on("load",function(){i(r).each(function(){var e=i(this);i.fn[t].call(e,e.data())})})}("select2Scroller","fxp.select2scroller",v,!0,'[data-select2-scroller="true"]'),e.default=v,e}({},jQuery,FxpScroller);
